function FireCheckoutPageTag(n){var t={PageType:"checkout",PageSubtype:n,ProductGroupId:GetProductGroupIds(),ProductId:GetProductIds(),ProductPrice:GetProductPrices(),ProductQuantity:GetProductQuantities(),CategoryId:GetCategoryIds()};FireCheckoutPageTagThroughOWA(t)}function FireRemoveItemEventTag(n){FireOWAProEventTag(OWARemoveItemEventType,n)}function FireEditItemEventTag(n){FireOWAProEventTag(OWAEditItemEventType,n)}function FireMoveItemToWishListEventTag(n){FireOWAProEventTag(OWAMoveItemToWishListEventType,n)}function FireAddItemToBagEventTag(n){FireOWAProEventTag(OWAAddItemToBagEventType,n)}function FireOWAProEventTag(n,t){var i={EventType:n,ProductGroupId:t.ProductStyle,ProductId:t.ProductSku,ProductPrice:t.Price.toString(),ProductQuantity:t.Quantity.toString(),CategoryId:t.ProductCategory},r=TranslateParametersForOWAEventTag(i);FireHitTagThroughOwa(OWAEventTagHitType,r)}function BuildDelimitedListFromItemProperty(n,t,i){var r="";return OrderItems.forEach(function(u){var f=GetNestedPropertyValue(u,t);i&&typeof i=="function"&&(f=i(f));r+=r!==""?n+f:f}),r}function FireCheckoutPageTagThroughOWA(n){var t=TranslateParametersForOWACheckoutPageTag(n);FireHitTagThroughOwa(OWAPageTagHitType,t)}function FireContentPageTagThroughOWA(n){var t=TranslateParametersForOWAContentPageTag(n);FireHitTagThroughOwa(OWAPageTagHitType,t)}function FireHitTagThroughOwa(n,t){window.hc_tm=window.hc_tm||[];window.hc_tm.push({e:n,p:t})}function GetCategoryIds(){return BuildDelimitedListFromItemProperty(",","Location.Path",function(n){if(n){var t=n.split("~");return t.length>=2?t[1]:t[0]}})}function GetNestedPropertyValue(n,t){if(t){var i=t.split("."),r=i.shift();return n.hasOwnProperty(r)?GetNestedPropertyValue(n[r],i.join(".")):console.debug("Unable to process tracking metrics, invalid object path provided.")}return n}function GetProductGroupIds(){return BuildDelimitedListFromItemProperty(",","Style")}function GetProductIds(){return BuildDelimitedListFromItemProperty(",","InternalSku")}function GetProductPrices(){return BuildDelimitedListFromItemProperty(",","Pricing.Price")}function GetProductQuantities(){return BuildDelimitedListFromItemProperty(",","Quantity")}function HasValue(n,t){return n!=undefined&&n!=null&&(t||n!=="")}function IsNotEmptyList(n){return Array.isArray(n)&&n.length}function TranslateParametersForOWACheckoutPageTag(n){return{page_type:n.PageType,page_subtype:n.PageSubtype,product_group_id:n.ProductGroupId,product_id:n.ProductId,product_price:n.ProductPrice,product_quantity:n.ProductQuantity,category_id:n.CategoryId,shop_version:ShopVersion,test_group:SiteVersion,hid:HID}}function TranslateParametersForOWAEventTag(n){return{event_type:n.EventType,product_group_id:n.ProductGroupId,product_id:n.ProductId,product_price:n.ProductPrice,product_quantity:n.ProductQuantity,category_id:n.CategoryId,shop_version:ShopVersion,test_group:SiteVersion}}function TranslateParametersForOWAContentPageTag(n){return{page_type:n.PageType,shop_version:ShopVersion,test_group:SiteVersion,hid:HID}}var OrderItems,ShopVersion,SiteVersion,HID,OWAPageTagHitType="track",OWAEventTagHitType="event",OWARemoveItemEventType="remove_from_cart",OWAEditItemEventType="product",OWAMoveItemToWishListEventType="wishlist",OWAAddItemToBagEventType="add_to_cart"